// ==========================
// Mobile-First Responsive Improvements
// ==========================

// ========== MOBILE OVERRIDES ==========
@media (max-width: 768px) {
  // Remove margin line on mobile - save precious horizontal space
  body {
    background:
      repeating-linear-gradient(
        transparent,
        transparent calc(1.6rem - 1px),
        var(--c-ruled-line) calc(1.6rem - 1px),
        var(--c-ruled-line) 1.6rem
      ),
      var(--c-bg-main);
  }

  :root[data-theme="dark"] body {
    background:
      repeating-linear-gradient(
        transparent,
        transparent 2px,
        var(--c-scanline) 2px,
        var(--c-scanline) 4px
      ),
      repeating-linear-gradient(
        transparent,
        transparent calc(1.6rem - 1px),
        var(--c-ruled-line) calc(1.6rem - 1px),
        var(--c-ruled-line) 1.6rem
      ),
      var(--c-bg-main);
  }

  @media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) body {
      background:
        repeating-linear-gradient(
          transparent,
          transparent 2px,
          var(--c-scanline) 2px,
          var(--c-scanline) 4px
        ),
        repeating-linear-gradient(
          transparent,
          transparent calc(1.6rem - 1px),
          var(--c-ruled-line) calc(1.6rem - 1px),
          var(--c-ruled-line) 1.6rem
        ),
        var(--c-bg-main);
    }
  }

  // Increase base font size for better readability
  :root {
    --font-size-base: 1rem;
    --font-size-sm: 0.9375rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.5rem;
    --font-size-2xl: 2rem;

    // Tighter spacing on mobile
    --space-md: 1.2rem;
    --space-lg: 1.8rem;
    --space-xl: 2.4rem;

    // No margin line offset on mobile
    --margin-left: 0;
  }

  // Better padding for all containers
  .container,
  .content,
  .container-content,
  .container-wide,
  .container-narrow {
    padding-inline: 1rem;
  }

  // Hide hole punches on mobile
  .hero-enhanced::before {
    display: none !important;
  }

  // Fix feature numbering - move inline instead of absolute
  .feature-item-card {
    padding-left: 0;

    &::before {
      position: static;
      display: inline-block;
      margin-right: var(--space-xs);
      left: auto;
      top: auto;
    }
  }

  // Improve mobile typography
  h1 {
    font-size: var(--font-size-2xl);
    line-height: 1.3;
  }

  h2 {
    font-size: var(--font-size-xl);
    margin: var(--space-md) 0 var(--space-sm) 0;
  }

  h3 {
    font-size: var(--font-size-lg);

    // Move arrow inline on mobile
    &::before {
      position: static;
      display: inline;
      left: auto;
      margin-right: 0.5em;
    }
  }

  // Better mobile avatar
  .avatar-image {
    width: 64px;
    height: 64px;
  }

  // Improve "What I'm Up To" on mobile
  .now-card {
    padding: var(--space-md);
    transform: rotate(-0.25deg);
    margin-inline: -0.5rem; // Bleed slightly for authenticity
  }

  :root[data-theme="dark"] .now-card {
    margin-inline: 0;
    border-top-width: 20px;

    &::before {
      top: -15px;
      font-size: 7px;
    }
  }

  @media (prefers-color-scheme: dark) {
    :root:not([data-theme="light"]) .now-card {
      margin-inline: 0;
      border-top-width: 20px;

      &::before {
        top: -15px;
        font-size: 7px;
      }
    }
  }

  // Better list items on mobile
  .now-list li {
    font-size: var(--font-size-sm);
    line-height: var(--line-height-loose);
  }

  // Improve hero description on mobile
  .hero-description {
    padding: var(--space-sm);
    font-size: var(--font-size-sm);
  }

  // Mobile-friendly footer
  .footer-links {
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  // Better mobile touch targets
  a, button {
    min-height: 44px;
    display: inline-flex;
    align-items: center;
  }

  .nav-item a {
    padding: var(--space-sm) 0;
  }
}

// ========== SMALL MOBILE (< 400px) ==========
@media (max-width: 400px) {
  :root {
    --font-size-2xl: 1.75rem;
    --space-md: 1rem;
    --space-lg: 1.5rem;
  }

  .container,
  .content,
  .container-content,
  .container-wide,
  .container-narrow {
    padding-inline: 0.875rem;
  }

  .now-card {
    padding: var(--space-sm);
  }

  h1::after {
    // Smaller cursor on tiny screens
    font-size: 0.9em;
  }
}

// ========== TABLET (769px - 1024px) ==========
@media (min-width: 769px) and (max-width: 1024px) {
  :root {
    --max-content: 720px;
  }

  .container,
  .content,
  .container-content {
    padding-inline: 2rem;
  }
}
