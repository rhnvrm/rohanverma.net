// ==========================
// Typography System
// ==========================

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-serif);
  font-weight: var(--font-weight-semibold);
  letter-spacing: -0.015em;
  color: var(--c-text-main);
  line-height: var(--line-height-tight);
}

h1,
.text-display {
  font-family: var(--font-handwritten);
  font-size: clamp(2rem, 4vw, 2.5rem);
  line-height: 1.2;
  letter-spacing: -0.5px;
  margin: clamp(1rem, 3vw, var(--space-xl)) 0 clamp(0.75rem, 2vw, var(--space-lg)) 0;
}

.title.handwritten {
  font-family: var(--font-handwritten);
  font-size: clamp(2rem, 4vw, 2.5rem);
  line-height: 1.3;
  letter-spacing: 0.5px;
}

// Optional Shrikhand handwriting style
.handwritten-alt {
  font-family: var(--font-handwritten-alt) !important;
  font-size: 0.9em;
  line-height: 1.2;
  letter-spacing: -0.5px;
}

// Wobble animation for handwritten text
@keyframes handwritten-wobble {
  0% { 
    transform: rotate(-0.5deg) translateY(0px); 
  }
  25% { 
    transform: rotate(0.3deg) translateY(-1px); 
  }
  50% { 
    transform: rotate(-0.2deg) translateY(0.5px); 
  }
  75% { 
    transform: rotate(0.4deg) translateY(-0.5px); 
  }
  100% { 
    transform: rotate(-0.1deg) translateY(0px); 
  }
}

// Enhanced wobble with more movement
@keyframes handwritten-wobble-strong {
  0% { 
    transform: rotate(-1deg) translateY(0px) translateX(0px); 
  }
  20% { 
    transform: rotate(0.8deg) translateY(-2px) translateX(1px); 
  }
  40% { 
    transform: rotate(-0.6deg) translateY(1px) translateX(-0.5px); 
  }
  60% { 
    transform: rotate(1.2deg) translateY(-1px) translateX(0.8px); 
  }
  80% { 
    transform: rotate(-0.4deg) translateY(0.5px) translateX(-1px); 
  }
  100% { 
    transform: rotate(-0.2deg) translateY(0px) translateX(0px); 
  }
}

// Character-level wobble for individual letters
@keyframes char-wobble-1 {
  0%, 100% { transform: rotate(-0.3deg) translateY(0px); }
  50% { transform: rotate(0.4deg) translateY(-0.5px); }
}

@keyframes char-wobble-2 {
  0%, 100% { transform: rotate(0.2deg) translateY(-0.3px); }
  50% { transform: rotate(-0.5deg) translateY(0.8px); }
}

@keyframes char-wobble-3 {
  0%, 100% { transform: rotate(-0.4deg) translateY(0.2px); }
  50% { transform: rotate(0.3deg) translateY(-1px); }
}

@keyframes char-wobble-4 {
  0%, 100% { transform: rotate(0.5deg) translateY(-0.2px); }
  50% { transform: rotate(-0.2deg) translateY(0.6px); }
}

// Apply wobble to handwritten elements
.handwritten {
  animation: handwritten-wobble 4s ease-in-out infinite;
  transform-origin: center center;
}

// Enhanced wobble option
.handwritten-wobble-strong {
  animation: handwritten-wobble-strong 3s ease-in-out infinite;
  transform-origin: center center;
}

// Character-level wobble (apply to individual spans)
.char-wobble {
  display: inline-block;
  animation-duration: 2s;
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
  
  &:nth-child(4n+1) { animation-name: char-wobble-1; animation-delay: 0s; }
  &:nth-child(4n+2) { animation-name: char-wobble-2; animation-delay: 0.3s; }
  &:nth-child(4n+3) { animation-name: char-wobble-3; animation-delay: 0.6s; }
  &:nth-child(4n+4) { animation-name: char-wobble-4; animation-delay: 0.9s; }
}

// Optional: Static version for users who prefer reduced motion
@media (prefers-reduced-motion: reduce) {
  .handwritten,
  .handwritten-wobble-strong,
  .char-wobble {
    animation: none;
  }
}

h2,
.text-heading {
  font-size: var(--font-size-3xl);
  margin: var(--space-xl) 0 var(--space-md) 0;
  
  @media (max-width: 768px) {
    font-size: var(--font-size-2xl);
  }
}

h3,
.text-subheading {
  font-size: var(--font-size-2xl);
  margin: var(--space-lg) 0 var(--space-sm) 0;
  
  @media (max-width: 768px) {
    font-size: var(--font-size-xl);
  }
}

h4,
.text-title {
  font-size: var(--font-size-xl);
  margin: var(--space-md) 0 var(--space-xs) 0;
}

h5 {
  font-size: var(--font-size-lg);
  margin: var(--space-sm) 0 var(--space-xs) 0;
}

h6 {
  font-size: var(--font-size-base);
  font-weight: var(--font-weight-semibold);
  margin: var(--space-sm) 0 var(--space-xs) 0;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.text-body {
  font-family: var(--font-serif);
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-normal);
  line-height: var(--line-height-relaxed);
  color: var(--c-text-main);
}

.text-intro {
  font-size: var(--font-size-xl);
  font-weight: var(--font-weight-normal);
  font-style: italic;
  line-height: var(--line-height-relaxed);
  color: var(--c-text-secondary);
  font-family: var(--font-serif);
  margin-bottom: var(--space-lg);
  
  @media (max-width: 768px) {
    font-size: var(--font-size-lg);
  }
}

.text-meta,
.meta {
  color: var(--c-text-muted);
  font-size: var(--font-size-sm);
  font-weight: var(--font-weight-medium);
  font-family: var(--font-sans);
  letter-spacing: 0.025em;
  line-height: var(--line-height-normal);
}

.text-caption {
  color: var(--c-text-light);
  font-size: var(--font-size-xs);
}

.text-small {
  font-size: var(--font-size-sm);
}

.text-accent {
  color: var(--c-link-mono);
  font-weight: var(--font-weight-semibold);
  letter-spacing: .02em;
}

// ========== RESPONSIVE TYPOGRAPHY ==========
h2 {
  font-size: clamp(1.25rem, 3vw, 1.875rem);
  line-height: var(--line-height-tight);
}

h3 {
  font-size: clamp(1.125rem, 2.5vw, 1.5rem);
  line-height: var(--line-height-snug);
}

p {
  font-size: clamp(1rem, 1.5vw, 1.125rem);
  line-height: var(--line-height-relaxed);
  margin-bottom: clamp(0.75rem, 2vw, 1rem);
}

// Responsive spacing utilities
.responsive-spacing {
  margin-bottom: clamp(1rem, 3vw, 2rem);
}

.responsive-padding {
  padding: clamp(1rem, 2vw, 1.5rem);
}

// Better text measure for readability
.text-content {
  max-width: min(65ch, 100%);
}