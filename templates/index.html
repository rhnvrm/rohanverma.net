{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-main hero-enhanced">
    <div class="container-full">
        <div class="container-content">
            <div class="hero-card">
                <div class="hero-avatar">
                    <img src="/images/avatar.jpg" alt="Rohan Verma (@rhnvrm), software engineer from Bangalore" class="avatar-image">
                </div>
                <h1 class="text-display hero-title">
                  Rohan Verma <span class="text-caption muted">(@rhnvrm)</span>
                </h1>
                <p class="text-intro hero-subtitle">
                  I build systems, write essays, and keep notes on the way.
                </p>
                <div class="text-body content-center hero-description">
                    <p>
                      I'm a software engineer at Zerodha. I work on trading infrastructure using Go, Docker, and Nix. This is my home on the internet ‚Äî a quiet place for code, writing, experiments, and the occasional rabbit hole.
                    </p>
                </div>
                <div class="text-center hero-cta">
                    <a href="/blog/" class="btn-primary link-arrow">
                        Read the Blog
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Sections -->
<section class="section-features">
    <div class="container-full">
        <div class="container-wide">
            <div class="feature-grid-enhanced">
                <div class="feature-item-card">
                    <div class="feature-icon-enhanced">‚úçÔ∏è</div>
                    <h3 class="feature-title">Writing on Systems & Self</h3>
                    <p class="feature-description">
                        Essays on infrastructure, productivity, and the art of building things for humans.
                    </p>
                    <a href="/blog/" class="feature-link">
                        Read the Blog
                    </a>
                </div>

                <div class="feature-item-card">
                    <div class="feature-icon-enhanced">üöÄ</div>
                    <h3 class="feature-title">Open Source & Experiments</h3>
                    <p class="feature-description">
                        Tools, libraries, and infrastructure I've built or contributed to. Mostly Go and Nix ‚Äî some weird stuff too.
                    </p>
                    <a href="/projects/" class="feature-link">
                        See the Code
                    </a>
                </div>

                <div class="feature-item-card">
                    <div class="feature-icon-enhanced">üåç</div>
                    <h3 class="feature-title">Travel & Quiet Logs</h3>
                    <p class="feature-description">
                        Notes and reflections from trips around the world, trains I've taken, and thoughts I've carried.
                    </p>
                    <a href="/blog/tags/travel/" class="feature-link">
                        Travel Posts
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Latest Posts -->
<section class="section-posts">
    <div class="container-full">
        <div class="container-wide">
            <div class="section-header-enhanced">
                <h2 class="text-heading section-title-prominent">Selected Writing</h2>
                <p class="text-intro section-subtitle">Essays I keep coming back to ‚Äî and hope you might too.</p>
            </div>

            <div class="content-grid-enhanced">
                {% set blog_section = get_section(path="blog/_index.md") %}
                {% for page in blog_section.pages | filter(attribute="extra.highlight") | slice(end=6) %}
                <article class="content-preview-enhanced">
                    <div class="content-preview-meta-enhanced">
                        <span class="meta-item-primary">
                            <time datetime="{{ page.date }}">
                                {{ page.date | date(format="%B %d, %Y") }}
                            </time>
                        </span>
                        {% if page.reading_time %}
                        <span class="meta-item-secondary read-time">{{ page.reading_time }} min read</span>
                        {% endif %}
                    </div>

                    <h3 class="content-preview-title">
                        <a href="{{ page.permalink }}" class="link-plain">{{ page.title }}</a>
                    </h3>

                    {% if page.description %}
                    <p class="content-preview-excerpt">{{ page.description }}</p>
                    {% elif page.summary %}
                    <p class="content-preview-excerpt">{{ page.summary | safe }}</p>
                    {% endif %}

                    {% if page.taxonomies.tags %}
                    <div class="content-preview-tags">
                        <div class="tag-list">
                            {% for tag in page.taxonomies.tags | slice(end=3) %}
                            <a href="{{ get_taxonomy_url(kind='tags', name=tag) }}" class="tag-interactive tag-accent">{{ tag }}</a>
                            {% endfor %}
                        </div>
                    </div>
                    {% endif %}

                    <a href="{{ page.permalink }}" class="content-preview-link">
                        Read More
                    </a>
                </article>
                {% endfor %}
            </div>

            <div class="text-center posts-cta">
                <a href="/blog/" class="btn-secondary">
                    View All Posts
                </a>
            </div>
        </div>
    </div>
</section>

<!-- What I'm Up To Section - Moved up -->
<section class="section-now">
    <div class="container-full">
        <div class="container-content">
            {% set now_page = get_page(path="now.md") %}
            {% if now_page %}
            <div class="now-card">
                <h2 class="text-heading now-title">What I'm Up To</h2>
                <div class="text-body content-center now-content">
                    {% if now_page.summary %}
                    {{ now_page.summary | safe }}
                    {% else %}
                    <p>Building real-time alerting systems at Zerodha, exploring declarative NixOS, and documenting a life offline.</p>
                    {% endif %}
                </div>
                <div class="now-meta">
                    <a href="/now/" class="btn-secondary link-arrow">
                        See Full Now Page
                    </a>
                    {% if now_page.date %}
                    <div class="text-caption now-updated">
                        Last updated: {{ now_page.date | date(format="%B %d, %Y") }}
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</section>
{% endblock content %}